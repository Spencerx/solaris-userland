Subprocesses launched by firefox via modules/subprocess have an empty environment
due to incorrect assumptions about environ variable in the libc.

On Solaris, environ variable is not part of libc.so (weak binding only) and hence
loading it from libc yields only a null pointer. This workaround gets environ
variable directly from the firefox process.

Patch not suitable for upstream; the idea might be.

--- firefox-115.5.0/toolkit/modules/subprocess/subprocess_shared_unix.js
+++ firefox-115.5.0/toolkit/modules/subprocess/subprocess_shared_unix.js
@@ -23,7 +23,12 @@
 
 var LIBC = OS.Constants.libc;
 
-const LIBC_CHOICES = ["libc.so", "libSystem.B.dylib", "a.out"];
+var LIBC_CHOICES = ["libc.so", "libSystem.B.dylib", "a.out"];
+
+// 
+if (Services.appinfo.OS === "SunOS") {
+  LIBC_CHOICES = ["a.out"];
+}
 
 const unix = {
   pid_t: ctypes.int32_t,
