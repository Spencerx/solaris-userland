Patch taken from 
https://sqlite.org/src/info/cd24178bbaad4a1d and applied 
to the current version of sqlite-3 delivered in Solaris.

--- sqlite-autoconf-3400100/shell.c.orig	2023-07-04 02:18:04.425918545 -0700
+++ sqlite-autoconf-3400100/shell.c	2023-07-04 02:18:19.558463208 -0700
@@ -26107,8 +26107,12 @@
     }else if( cli_strcmp(z,"-bail")==0 ){
       bail_on_error = 1;
     }else if( cli_strcmp(z,"-nonce")==0 ){
-      free(data.zNonce);
-      data.zNonce = strdup(argv[++i]);
+      if( data.zNonce ) free(data.zNonce);
+      if( i+1 < argc ) data.zNonce = strdup(argv[++i]);
+      else{
+        data.zNonce = 0;
+        break;
+      }
     }else if( cli_strcmp(z,"-safe")==0 ){
       /* no-op - catch this on the second pass */
     }
