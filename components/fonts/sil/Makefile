#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#

#
# Copyright (c) 2017, 2025, Oracle and/or its affiliates.
#

BUILD_BITS=             NO_ARCH
include ../../../make-rules/shared-macros.mk

COMPONENT_NAME=		sil
COMPONENT_VERSION=	0.2

# due to 27244651 the IPS version should be the solaris version
IPS_COMPONENT_VERSION=	$(PKG_SOLARIS_VERSION)

COMPONENT_PROJECT_URL=	https://scripts.sil.org

COMPONENT_SRC=		AbyssinicaSIL-2.300
COMPONENT_ARCHIVE=	$(COMPONENT_SRC).zip
COMPONENT_ARCHIVE_URL=	https://software.sil.org/downloads/r/abyssinica/$(COMPONENT_ARCHIVE)
COMPONENT_ARCHIVE_HASH=	sha256:725e6cd58be6495e0e53f367608db36d9f818498bccba739d742892c5a3d8151
COMPONENT_BAID_ABYSSINICA=	331182

COMPONENT_SRC_1=	ttf-sil-andika-1.0.basic
COMPONENT_ARCHIVE_1=	ttf-sil-andika_1.0.basic.orig.tar.gz
COMPONENT_ARCHIVE_URL_1=http://archive.debian.org/debian/pool/main/t/ttf-sil-andika/$(COMPONENT_ARCHIVE_1)
COMPONENT_ARCHIVE_HASH_1=sha256:01293f141eebda107e0a6828d6e0bcac08c4eedb2d7d80de892056191618244a
COMPONENT_BAID_ANDIKA=	173843

COMPONENT_SRC_2=	ttf-sil-charis-4.106
COMPONENT_ARCHIVE_2=	ttf-sil-charis_4.106.orig.tar.bz2
COMPONENT_ARCHIVE_URL_2=http://archive.debian.org/debian/pool/main/t/ttf-sil-charis/$(COMPONENT_ARCHIVE_2)
COMPONENT_ARCHIVE_HASH_2=sha256:f173c1a1a7796e6952ad1211828d840d6c0b6268adc05e4f60be895ddea07af2
COMPONENT_BAID_CHARIS=	173981

COMPONENT_SRC_3=	ttf-sil-dai-banna-2.1
COMPONENT_ARCHIVE_3=	ttf-sil-dai-banna_2.1.orig.tar.bz2
COMPONENT_ARCHIVE_URL_3=http://archive.debian.org/debian/pool/main/t/ttf-sil-dai-banna/$(COMPONENT_ARCHIVE_3)
COMPONENT_ARCHIVE_HASH_3=sha256:4c6fcf959e146396ef3b7d484c9a3db432c94d827a74607c6a199f9a80fac05d
COMPONENT_BAID_BANNA=	174053

COMPONENT_SRC_4=	ttf-sil-doulos-4.106
COMPONENT_ARCHIVE_4=	ttf-sil-doulos_4.106.orig.tar.bz2
COMPONENT_ARCHIVE_URL_4=http://archive.debian.org/debian/pool/main/t/ttf-sil-doulos/$(COMPONENT_ARCHIVE_4)
COMPONENT_ARCHIVE_HASH_4=sha256:219c3e339a39de39d1d3cf3551d13450912e74c3dac8ebee6b0dc6f917ebbe4a
COMPONENT_BAID_DOULOS=	174158

COMPONENT_SRC_5=	ttf-sil-ezra-2.51
COMPONENT_ARCHIVE_5=	ttf-sil-ezra_2.51.orig.tar.gz
COMPONENT_ARCHIVE_URL_5=http://archive.debian.org/debian/pool/main/t/ttf-sil-ezra/$(COMPONENT_ARCHIVE_5)
COMPONENT_ARCHIVE_HASH_5=sha256:dd397d02e2b957e3a44a9a1d9e0982ec94433c097483363779a27b711e529a1e
COMPONENT_BAID_EZRA=	174160

COMPONENT_SRC_6=	ttf-sil-galatia-2.1
COMPONENT_ARCHIVE_6=	ttf-sil-galatia_2.1.orig.tar.gz
COMPONENT_ARCHIVE_URL_6=http://archive.debian.org/debian/pool/main/t/ttf-sil-galatia/$(COMPONENT_ARCHIVE_6)
COMPONENT_ARCHIVE_HASH_6=sha256:80df2b778195dc5b38ef6e98518960428077df7b8083544843bd57018c9f4f8b
COMPONENT_BAID_GALATIA=	174264

COMPONENT_SRC_7=	ttf-sil-scheherazade-1.001
COMPONENT_ARCHIVE_7=	ttf-sil-scheherazade_1.001.orig.tar.gz
COMPONENT_ARCHIVE_URL_7=http://archive.debian.org/debian/pool/main/t/ttf-sil-scheherazade/$(COMPONENT_ARCHIVE_7)
COMPONENT_ARCHIVE_HASH_7=sha256:c0c50ce2c9af14d07e825c72cca2d5dd6bbe5dce3c952219cc89869571710845
COMPONENT_BAID_SCHEHERAZADE=	174266

COMPONENT_SRC_8=	ttf-sil-sophia-nubian-1.000
COMPONENT_ARCHIVE_8=	ttf-sil-sophia-nubian_1.000.orig.tar.gz
COMPONENT_ARCHIVE_URL_8=http://archive.debian.org/debian/pool/main/t/ttf-sil-sophia-nubian/$(COMPONENT_ARCHIVE_8)
COMPONENT_ARCHIVE_HASH_8=sha256:827d6a66dfce15854c59a355f6299df089fadf935f48177fdac91212e44ebe4a
COMPONENT_BAID_SOPHIA=	174271	

COMPONENT_SRC_9=	ttf-sil-yi-1.200
COMPONENT_ARCHIVE_9=	ttf-sil-yi_1.200.orig.tar.gz
COMPONENT_ARCHIVE_URL_9=http://archive.debian.org/debian/pool/main/t/ttf-sil-yi/$(COMPONENT_ARCHIVE_9)
COMPONENT_ARCHIVE_HASH_9=sha256:5d8635f903cd28ba41ad9698f60e84869cb6eea30c84bafc94fec2ab41a41177
COMPONENT_BAID_YI=	174273

COMPONENT_SRC_10=	Apparatus_SIL
COMPONENT_ARCHIVE_10=	ApparatusSIL.zip
COMPONENT_ARCHIVE_URL_10=https://scripts.sil.org/cms/sites/nrsi/download/appsil1.0.zip/$(COMPONENT_ARCHIVE_10)
COMPONENT_ARCHIVE_HASH_10=sha256:0d8e3143b9c46c97916ab2cf85ae2187fe33b9b40859567a5524266dd58581bc
COMPONENT_BAID_APPARATUS=	174365

COMPONENT_SRC_11=	LateefRegOT
COMPONENT_ARCHIVE_11=	LateefRegOT_1.001.zip
COMPONENT_ARCHIVE_URL_11=https://software.sil.org/downloads/r/lateef/LateefRegOT_1.001.zip
COMPONENT_ARCHIVE_HASH_11=sha256:ca3f84555007975d69c18f3d958f6a1a1c79c5b550c13d168d600e07efac1c09
COMPONENT_BAID_LATEEF=	174367

# Component directory with a space doesn't play well for post unpack actions
COMPONENT_POST_UNPACK_ACTION_10 = \
	$(MV) Apparatus\ SIL  $(COMPONENT_SRC_10)

UNPACK_ARGS_11=		-r $(COMPONENT_SRC_11)

LIST = 1 2 3 4 5 6 7 8 9 10 11
$(foreach n, $(LIST), \
    $(eval PKG_VARS += COMPONENT_ARCHIVE_URL_$(n)) \
)

COMPONENT_BUGDB=	g11n/font

BUILD_STYLE=		archive
TEST_TARGET=		$(NO_TESTS)

COMPONENT_FONT_BUILD_DIR=	$(COMPONENT_DIR)
COMPONENT_FONT_DOC_BUILD_DIR=	$(COMPONENT_DIR)

include $(WS_MAKE_RULES)/font.mk

COMPONENT_FONT_FILES=  		$(COMPONENT_SRC)/*.ttf \
			$(foreach n, $(LIST), $(COMPONENT_SRC_$(n))/*.ttf)
COMPONENT_FONT_DOC_FILES=	$(COMPONENT_SRC)/*.txt \
			$(foreach n, $(LIST), $(COMPONENT_SRC_$(n))/[FR]*.txt)

COMPONENT_PREP_ACTION += \
	for fn in $(COMPONENT_SRC_10)/*.TTF; do $(MV) $$fn $${fn/.TTF/.ttf}; done; \
	$(MV) $(COMPONENT_SRC)/FONTLOG.txt $(COMPONENT_SRC)/FONTLOG.Abyssinica.txt; \
	$(MV) $(COMPONENT_SRC_1)/FONTLOG.txt $(COMPONENT_SRC_1)/FONTLOG.Andika.txt; \
	$(MV) $(COMPONENT_SRC_2)/FONTLOG.txt $(COMPONENT_SRC_2)/FONTLOG.Charis.txt; \
	$(MV) $(COMPONENT_SRC_3)/FONTLOG.txt $(COMPONENT_SRC_3)/FONTLOG.Dai-Banna.txt; \
	$(MV) $(COMPONENT_SRC_4)/FONTLOG.txt $(COMPONENT_SRC_4)/FONTLOG.Doulos.txt; \
	$(MV) $(COMPONENT_SRC_5)/FONTLOG.txt $(COMPONENT_SRC_5)/FONTLOG.Ezra.txt; \
	$(MV) $(COMPONENT_SRC_6)/FONTLOG.txt $(COMPONENT_SRC_6)/FONTLOG.Galatia.txt; \
	$(MV) $(COMPONENT_SRC_7)/FONTLOG.txt $(COMPONENT_SRC_7)/FONTLOG.Scheherazade.txt; \
	$(MV) $(COMPONENT_SRC_8)/FONTLOG.txt $(COMPONENT_SRC_8)/FONTLOG.Sophia-Nubian.txt; \
	$(MV) $(COMPONENT_SRC_9)/FONTLOG.txt $(COMPONENT_SRC_9)/FONTLOG.Yi.txt; \
	$(MV) $(COMPONENT_SRC_11)/FONTLOG.txt $(COMPONENT_SRC_11)/FONTLOG.Lateef.txt; \
	$(MV) $(COMPONENT_SRC)/README.txt $(COMPONENT_SRC)/README.Abyssinica.txt; \
	$(MV) $(COMPONENT_SRC_1)/README.txt $(COMPONENT_SRC_1)/README.Andika.txt; \
	$(MV) $(COMPONENT_SRC_2)/README.txt $(COMPONENT_SRC_2)/README.Charis.txt; \
	$(MV) $(COMPONENT_SRC_3)/README.txt $(COMPONENT_SRC_3)/README.Dai-Banna.txt; \
	$(MV) $(COMPONENT_SRC_4)/README.txt $(COMPONENT_SRC_4)/README.Doulos.txt; \
	$(MV) $(COMPONENT_SRC_5)/README.txt $(COMPONENT_SRC_5)/README.Ezra.txt; \
	$(MV) $(COMPONENT_SRC_8)/Readme.txt $(COMPONENT_SRC_8)/README.Sophia-Nubian.txt; \
	$(MV) $(COMPONENT_SRC_10)/FONTLOG.txt $(COMPONENT_SRC_10)/README.Apparatus.txt;
